// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------;
/* eslint-disable */
import { Component, EventEmitter, Inject, Input, OnInit, Optional, Output, TemplateRef } from '@angular/core';
import { FormGroup } from '@angular/forms';
import { FormlyFieldConfig } from '@ngx-formly/core';
import { IGetUserDetailsResponse } from 'src/app/api/api-reference';
import { IFieldExpressionDictionary, SelectConfiguration, ENIGMATRY_FIELD_TYPE_RESOLVER, FieldTypeResolver } from '@enigmatry/angular-building-blocks/form';
import { BehaviorSubject } from 'rxjs';


@Component({
  selector: 'app-g-user-edit',
  templateUrl: './user-edit-generated.component.html',
  styleUrls: ['./user-edit-generated.component.scss']
})
export class UserEditGeneratedComponent implements OnInit {

  @Input() model: IGetUserDetailsResponse = {} as IGetUserDetailsResponse;
  @Input() set isReadonly(value: boolean) {
    this._isReadonly = value;
    this.fields = this.initializeFields();
  }
  get isReadonly() {
    return this._isReadonly;
  }

  @Input() saveButtonText: string = 'Save';
  @Input() cancelButtonText: string = 'Cancel';
  @Input() formButtonsTemplate: TemplateRef<any> | null | undefined;

  @Input() fieldsHideExpressions: IFieldExpressionDictionary<IGetUserDetailsResponse> | undefined = undefined;
  @Input() fieldsDisableExpressions: IFieldExpressionDictionary<IGetUserDetailsResponse> | undefined = undefined;

  @Output() save = new EventEmitter<IGetUserDetailsResponse>();
  @Output() cancel = new EventEmitter<void>();


 _isReadonly: boolean;
  form = new FormGroup({});
  fields: FormlyFieldConfig[] = [];

  constructor(@Optional() @Inject(ENIGMATRY_FIELD_TYPE_RESOLVER) private _fieldTypeResolver: FieldTypeResolver) { }

  ngOnInit(): void {
    this.fields = this.initializeFields();
  }

  onSubmit() {
    if (this.form.valid) {
      this.save.emit(this.model);
    }
  }

  resolveFieldType = (type: string, isControlReadonly: boolean): string =>
    this._fieldTypeResolver ? this._fieldTypeResolver(type, this.isReadonly || isControlReadonly) : type;

  initializeFields(): FormlyFieldConfig[] {
    return [
        {
        type: 'fieldset',
        fieldGroupClassName: '',
        templateOptions: {
        label: $localize `:@@users.user-edit.user.label:User`,
        placeholder: $localize `:@@users.user-edit.user.placeholder:User`,
        disabled: this.isReadonly || false,
        description: ''
        },
        fieldGroup:[
        {
        key: 'userName',
        type: this.resolveFieldType('input', true),
        className: '',
        hideExpression: this.fieldsHideExpressions?.userName ?? false,
        expressionProperties: {
        'templateOptions.disabled': (model) => (this.isReadonly || (this.fieldsDisableExpressions?.userName ? this.fieldsDisableExpressions.userName(model) : true)),
        },
        templateOptions: {
        label: $localize `:@@users.user-edit.user-name.label:User name`,
        placeholder: $localize `:@@users.user-edit.user-name.placeholder:User name`,
        description: '',
        hidden: !true,
        },
        },
        {
        key: 'name',
        type: this.resolveFieldType('input', false),
        className: '',
        hideExpression: this.fieldsHideExpressions?.name ?? false,
        expressionProperties: {
        'templateOptions.disabled': (model) => (this.isReadonly || (this.fieldsDisableExpressions?.name ? this.fieldsDisableExpressions.name(model) : false)),
        },
        templateOptions: {
        label: $localize `:@@users.user-edit.name.label:Name`,
        placeholder: $localize `:@@users.user-edit.name.placeholder:Name`,
        description: '',
        hidden: !true,
            required: true,
minLength: 5,
maxLength: 25,

        },
        },
        {
        type: 'fieldset',
        fieldGroupClassName: '',
        templateOptions: {
        label: $localize `:@@users.user-edit.history.label:History`,
        placeholder: $localize `:@@users.user-edit.history.placeholder:History`,
        disabled: this.isReadonly || false,
        description: ''
        },
        fieldGroup:[
        {
        key: 'createdOn',
        type: this.resolveFieldType('datepicker', true),
        className: '',
        hideExpression: this.fieldsHideExpressions?.createdOn ?? false,
        expressionProperties: {
        'templateOptions.disabled': (model) => (this.isReadonly || (this.fieldsDisableExpressions?.createdOn ? this.fieldsDisableExpressions.createdOn(model) : true)),
        },
        templateOptions: {
        label: $localize `:@@users.user-edit.created-on.label:Created on`,
        placeholder: $localize `:@@users.user-edit.created-on.placeholder:Created on`,
        description: '',
        hidden: !true,
        },
        },
        {
        key: 'updatedOn',
        type: this.resolveFieldType('datepicker', true),
        className: '',
        hideExpression: this.fieldsHideExpressions?.updatedOn ?? false,
        expressionProperties: {
        'templateOptions.disabled': (model) => (this.isReadonly || (this.fieldsDisableExpressions?.updatedOn ? this.fieldsDisableExpressions.updatedOn(model) : true)),
        },
        templateOptions: {
        label: $localize `:@@users.user-edit.updated-on.label:Updated on`,
        placeholder: $localize `:@@users.user-edit.updated-on.placeholder:Updated on`,
        description: '',
        hidden: !true,
        },
        },
        ]
        },
        ]
        },
    ];
  }
}
